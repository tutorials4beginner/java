


<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
    <head>
        <title>Creating the Demo Application (Step 2) (The Java&trade; Tutorials &gt; 
            Creating a GUI with JFC/Swing &gt; Performing Custom Painting)
</title>
<style type="text/css">
    .FigureCaption   { 
        margin-left: 1in; 
        margin-right: 1in; 
        font-family: sans-serif; 
        font-size: smaller; 
        text-align: justify;
    }
    #TopBar_bl {
        background: url(../../images/java_bar_bl.gif) 0 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        background: url(../../images/java_bar_br.gif) 100% 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        background: url(../../images/java_bar_tl.gif) 0 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tr {
        background: url(../../images/java_bar_tr.gif) 100% 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar {
        background: #35556B url(../../images/java_bar.gif);
        margin: 10px 10px 0 10px;
        height:60px;
        min-width:700px;
        color: white;
        font-family: sans-serif; 
        font-weight: bold;
    }
    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    #TopBar_right {
        line-height: 14px;
        float: right;
        padding-top: 2px;
        padding-right: 30px;
        text-align: center;
    }
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 12px;
        margin: 3px;
        padding: 0;
    }
    #TopBar a:visited, #TopBar a:link {
        color: white;
        text-decoration: none;
    }
    #TopBar a:hover, #TopBar a:active  {
        background-color: white;
        color: #35556B;
    }
    #BreadCrumbs {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    #BreadCrumbs a {
        color: blue;
    }
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #E76F00;
        font-family: sans-serif; 
        font-weight: bold;
        font-size: 20px;
    }
    .LeftBar_shown {
        width: 13em;
        float: left;
        margin-left: 10px;
        margin-top: 4px;
        margin-bottom: 2em;
    }
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    .LeftBar_hidden {
        display: none;
    }
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    .NavBit  {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    @media print {
        .NavBit {
            display: none;
        }
    }
    #TagNotes {
        text-align: right;
        font-size: smaller;
        font-family: sans-serif; 
    }
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    #Contents a, .NavBit a, #TagNotes a {
        color: blue
    }
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #E76F00;
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h3, h4, h5 {
        color: #E76F00;
        font-family: sans-serif;
    }
    #ToggleLeft {
        display: none;
    }

    /t

</style>
<script type="text/javascript">
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide the TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }
    
</script>

    </head>
<body onload="load()">
    <div id=TopBar> <div id=TopBar_tr> <div id=TopBar_tl> <div id=TopBar_br> <div id=TopBar_bl> 
                        <div id=TopBar_right> 
                            <a target="_blank"
                                href="http://java.sun.com/javase/6/download.jsp">Download
                                the JDK</a>
                            <br>
                            <a href="../../search.html" target="_blank">Search the
                                Tutorials</a>
                            <br>
                            <a href="javascript:toggleLeft()"
                                id="ToggleLeft">Hide the TOC</a>
                        </div>
                    </div> </div> </div> </div> </div>
    <div class=PrintHeaders>
        <b>Trail:</b> Creating a GUI with JFC/Swing
        <br><b>Lesson:</b> Performing Custom Painting
    </div>

    <div id=LeftBar class=LeftBar_shown>
        <div id=Contents>
            <div class="linkLESSON"><a href="index.html">Performing Custom Painting</a></div>
<div class="linkAHEAD"><a href="step1.html">Creating the Demo Application (Step 1)</a></div>
<div class="nolinkAHEAD">Creating the Demo Application (Step 2)</div>
<div class="linkAHEAD"><a href="step3.html">Creating the Demo Application (Step 3)</a></div>
<div class="linkAHEAD"><a href="refining.html">Refining the Design</a></div>
<div class="linkAHEAD"><a href="closer.html">A Closer Look at the Paint Mechanism</a></div>
<div class="linkAHEAD"><a href="summary.html">Summary</a></div>
<div class="linkAHEAD"><a href="problems.html">Solving Common Painting Problems</a></div>
</div>
    </div>
    <div id=MainFlow class=MainFlow_indented>
            <span id=BreadCrumbs>
                <a href=../../index.html target=_top>Home Page</a>
                &gt;
                <a href=../index.html target=_top>Creating a GUI with JFC/Swing</a>
                &gt;
                <a href=index.html target=_top>Performing Custom Painting</a>
            </span>
            <div class=NavBit>
                <a target=_top href=step1.html>&laquo;&nbsp;Previous</a>&nbsp;&bull;&nbsp;<a target=_top href=../TOC.html>Trail</a>&nbsp;&bull;&nbsp;<a target=_top href=step3.html>Next&nbsp;&raquo;</a>
            </div>
            <div id=PageTitle>Creating the Demo Application (Step 2)</div>
            <blockquote>
Next, we will add a custom drawing surface to the frame. 
For this we will 
 create a subclass of <CODE>javax.swing.JPanel</CODE> 
 (a generic lightweight container</A>) which will supply 
 the code for rendering our custom painting. 

<center><p><IMG SRC="../../figures/uiswing/painting/swing2.png" WIDTH="258" HEIGHT="234" ALIGN="BOTTOM" ALT="Creating a New Project within the GUI"></p><p class="FigureCaption">A javax.swing.JPanel Subclass</p></center>
<P>
Click the Launch button to run SwingPaintDemo2 using
<a class="TutorialLink" target="_top" href="http://java.sun.com/products/javawebstart/index.jsp">Java&trade; Web Start</a> (<a href="http://java.sun.com/javase/downloads/index.jsp">download JDK 6</a>).
Alternatively, to compile and run the example yourself, consult the
     <a href="../examples/painting/index.html#SwingPaintDemo2">example index</a>.

<center> <a href="http://java.sun.com/docs/books/tutorialJWS/uiswing/painting/ex6/SwingPaintDemo2.jnlp"><img src="../../images/jws-launch-button.png " width="88" height="23" align="bottom" alt="Launches the SwingPaintDemo2 example"></a>
</center>
</P>

<PRE>
package painting;

import javax.swing.SwingUtilities;
import javax.swing.JFrame;<FONT COLOR="RED">
import javax.swing.JPanel;
import javax.swing.BorderFactory;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.Graphics;
</FONT>
public class SwingPaintDemo2 {
   
    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                createAndShowGUI(); 
            }
        });
    }

    private static void createAndShowGUI() {
        System.out.println("Created GUI on EDT? "+
        SwingUtilities.isEventDispatchThread());
        JFrame f = new JFrame("Swing Paint Demo");
        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);<font color="red"> 
        f.add(new MyPanel());
        f.pack();</font>
        f.setVisible(true);
    }
}

<font color="red">
class MyPanel extends JPanel {

    public MyPanel() {
        setBorder(BorderFactory.createLineBorder(Color.black));
    }

    public Dimension getPreferredSize() {
        return new Dimension(250,200);
    }

    public void paintComponent(Graphics g) {
        super.paintComponent(g);       

        // Draw Text
        g.drawString("This is my custom Panel!",10,20);
    }  
}
</font></PRE>
<P>
The first change you will notice is that we are now 
importing 
a number of additional classes, such as <CODE>JPanel</CODE>, 
<CODE>Color</CODE>, and <CODE>Graphics</CODE>. Since some of the older 
AWT classes are still used in modern Swing applications, it is normal to 
see the <CODE>java.awt</CODE> package 
 in a few of the import statements.
 We have also defined a custom <CODE>JPanel</CODE> subclass, called <CODE>MyPanel</CODE>, which comprises the majority of the new code.


<P>
The <CODE>MyPanel</CODE> class definition has a constructor that sets a 
black border around its edges. This is a subtle detail that might 
be difficult to see at first (if it is, just comment out the invocation of 
<CODE>setBorder</CODE> and then recompile.) 



<CODE>MyPanel</CODE> also overrides <CODE>getPreferredSize</CODE>, 
 which returns the desired width and height of the panel 
(in this case 250 is the width, 200 is the height.) Because of this, the 
 <CODE>SwingPaintDemo</CODE> class no longer needs to specify the size of 
the frame in pixels. It simply adds the panel to the frame and 
  then invokes <CODE>pack</CODE>.

</P>

<P>
The <CODE>paintComponent</CODE> method 
 is where all of your custom painting takes place. 
This method is  
defined by <CODE>javax.swing.JComponent</CODE> and then overridden 
by your subclasses to provide their custom behavior. 

Its sole parameter, a 
<CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/awt/Graphics.html">java.awt.Graphics</A></CODE> object, exposes a number of methods 
for drawing 2D shapes and obtaining information about the application's graphics 
environment. In most cases 
 the object that is actually received by this method
will be an instance of <CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/awt/Graphics2D.html">java.awt.Graphics2D</A></CODE> (a <CODE>Graphics</CODE> subclass), which provides support for sophisticated 2D graphics rendering. 

<P>
Most of the standard Swing components have their 
look and feel implemented by separate "UI Delegate" objects. 
The invocation of <CODE>super.paintComponent(g)</CODE>   
 passes the graphics context off to the component's UI delegate, which 
 paints the panel's background. 
 For a closer look at this process, see the section 
entitled &quot;Painting and the UI Delegate&quot; in the aforementioned SDN article. 

</P>


<P>
Exercises:
</P>

<OL>
<LI>Now that you have drawn some custom text to the screen, 
try minimizing and restoring the application as you did before.

<LI>Obscure a part of the text with another window, then move that 
window out of the way to re-expose the custom text. 
In both cases, the painting subsystem will determine that the 
 component is damaged and will ensure that your <CODE>paintComponent</CODE> method is invoked.
</OL>

        </blockquote>
        <div class=NavBit>
            <a target=_top href=step1.html>&laquo; Previous</a>
            &bull;
            <a target=_top href=../TOC.html>Trail</a>
            &bull;
            <a target=_top href=step3.html>Next &raquo;</a>
        </div>
    </div>
    <div id=Footer>
<div id=TagNotes>
    Problems with the examples? Try <a target="_blank"
        href=../../information/run-examples.html>Compiling and Running
        the Examples: FAQs</a>.
    <br>
    Complaints? Compliments? Suggestions? <a target="_blank"
        href="http://developer.sun.com/contact/tutorial_feedback.jsp">Give
    us your feedback</a>.
<br><br>
    <a target="_blank" href="../../information/copyright.html">Copyright</a>
    1995-2007 Sun Microsystems, Inc.  All rights reserved.
    <span id=Download>
</span></div> 

    </div>
    <div class=PrintHeaders>
        <b>Previous page:</b> Creating the Demo Application (Step 1)
        <br><b>Next page:</b> Creating the Demo Application (Step 3)
    </div>
    </body>
</html> 
